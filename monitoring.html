<!DOCTYPE html>
<html>
<head>
    <title>
        Monitoring 
    </title>
    <!-- material icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
    rel="stylesheet">
    <style>
      body{
       font-family: 'Roboto', sans-serif;
      }
        #iframe3{
            position:absolute;
            left:550px;
            top:0
        }
        #info{
            position:absolute;
            top:15px;
            left:400px;
            border:none;
        }
        #info2{
          position:absolute;
          top:350px;
          left:400px;
          border:none;
        }
        #info3{
          position:absolute;
          top:15px;
          left:400px;
          border:none
        }
    </style>
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- jQuery UI -->
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>

<!-- jQuery UI CSS -->
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
    
</head>
<body>
  <!-- iframe1 -->
    <div id="iframe1">
        <h4>Bin1</h4>
        <button id="info">
          <span class="material-icons-sharp" >
              info
          </span>
       </button>
        <div id="dialog" title="Bin1 INFO" style="display:none">
            <p>Filled Status of bin1<br><span id="filled1"></span></p>
        </div>
        
        <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/1717065/charts/1?bgcolor=%23ffffff&color=%23d62020&days=7&dynamic=true&type=line"></iframe>
    </div>
  <!-- iframe2 -->
    <div id="iframe2">
        <h4> Bin2 </h4>
        <button id="info2">
          <span class="material-icons-sharp" >
              info
            </span>
        </button>
        <div id="dialog2" title="Bin2 INFO" style="display:none">
          <p>Filled Status of bin2 <br><span id="filled2"></span></p>
        </div>

        <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/1717065/charts/2?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15"></iframe>
    </div>
    <!-- iframe3 -->
    <div id="iframe3">
        <h4> Bin3</h4>
        <button id="info3">
          <span class="material-icons-sharp" >
              info
            </span>
        </button>
        <div id="dialog3" title="Bin3 INFO" style="display:none">
          <p>Filled Status of bin3 <br><span id="filled3"></span></p>
        </div>

        <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/1717065/charts/4?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15"></iframe>
    </div>

</body>
<script type="text/javascript">
    
    // $("#info").click(function(){
    //     $("#info1").dialog({
    //         autoOpen:false,
    //         show:{
    //             effect:"blind",
    //             duration:1000
    //         },
    //         hide:{
    //             effect:"explode",
    //             duration:1000
    //         }
    //     })
              
        // $("#if1").css("display","none")
        
        // $("#info1").html("<div id='info1-content'> <div ><button id='cross'><span class='material-icons-sharp'>close</span></button></div>")
        // $("#info1").css("font-size","150%")
        // $("#info1").css("border","2px solid black")
        // $("#info1").css("width","450px")
        // $("#info1").css("height","260px")

        // $("#cross").css("border","none")
        // $("#info1-content").css("position","absolute")
        // $("#info1-content").css("margin-left","380px")
        // $("#info1-content").css("margin-top","20px")
        // $("#cross").click(function(){
        //     $("#info1").css("display","none")
        //     $("#if1").css("display","block")
        // })
// })
$("#info").click(function(){
  $("#dialog").dialog()
})
  $("#info2").click(function(){
   
    $("#dialog2").dialog()
  })
  $("#info3").click(function(){
   
   $("#dialog3").dialog()
 })
function fetching(){
  fetch(" https://api.thingspeak.com/channels/1717065/feeds.json?results=100").then(response=>response.json()).then(data=>{
          $("#filled1").html(data.feeds[99].field1)//replace 35 with 99
          $("#filled2").html(data.feeds[35].field2)
          $("#filled3").html(data.feeds[35].field3)
          console.log(data.feeds)
          
  })
}
setInterval(fetching,15000)

</script>
</html>
